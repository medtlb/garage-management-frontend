<!-- src/app/components/vehicle-form/vehicle-form.component.html -->
<div class="vehicle-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>{{ isEditing ? 'Edit Vehicle' : 'Add New Vehicle' }}</h2>
        <button class="close-btn" (click)="closeForm()">Ã—</button>
      </div>
      <div class="modal-body">
        <form [formGroup]="vehicleForm" (ngSubmit)="submitVehicle()">
          <div class="form-group">
            <label for="immatriculation" class="form-label">License Plate</label>
            <input 
              type="text" 
              id="immatriculation" 
              formControlName="immatriculation" 
              class="form-control"
              [ngClass]="{ 'is-invalid': v['immatriculation'].touched && v['immatriculation'].errors }"
            >
            <div *ngIf="v['immatriculation'].touched && v['immatriculation'].errors" class="invalid-feedback">
              <div *ngIf="v['immatriculation'].errors['required']">License plate is required</div>
            </div>
          </div>
          
          <div class="form-group">
            <label for="marque" class="form-label">Make</label>
            <input 
              type="text" 
              id="marque" 
              formControlName="marque" 
              class="form-control"
              [ngClass]="{ 'is-invalid': v['marque'].touched && v['marque'].errors }"
            >
            <div *ngIf="v['marque'].touched && v['marque'].errors" class="invalid-feedback">
              <div *ngIf="v['marque'].errors['required']">Make is required</div>
            </div>
          </div>
          
          <div class="form-group">
            <label for="model" class="form-label">Model</label>
            <input 
              type="text" 
              id="model" 
              formControlName="model" 
              class="form-control"
              [ngClass]="{ 'is-invalid': v['model'].touched && v['model'].errors }"
            >
            <div *ngIf="v['model'].touched && v['model'].errors" class="invalid-feedback">
              <div *ngIf="v['model'].errors['required']">Model is required</div>
            </div>
          </div>
          
          <div class="form-group">
            <label for="vehicleImage" class="form-label">Vehicle Image (optional)</label>
            <input 
              type="file" 
              id="vehicleImage" 
              class="form-control file-input"
              (change)="onFileSelected($event)"
              accept="image/*"
            >
          </div>
          
          <div *ngIf="vehicleError" class="alert alert-danger">{{ vehicleError }}</div>
          
          <div class="form-actions">
            <button type="button" class="btn btn-secondary" (click)="closeForm()">Cancel</button>
            <button type="submit" class="btn btn-primary" [disabled]="vehicleForm.invalid || processing">
              <span *ngIf="processing" class="spinner-sm"></span>
              {{ isEditing ? 'Update' : 'Save' }} Vehicle
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>